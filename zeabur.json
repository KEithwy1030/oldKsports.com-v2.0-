{
  "name": "oldksports-2.0",
  "services": [
    {
      "name": "frontend",
      "source": {
        "type": "git",
        "rootDir": "."
      },
      "deploy": {
        "type": "docker",
        "dockerfile": "Dockerfile.frontend"
      },
      "env": {
        "PORT": "8080",
        "VITE_API_URL": "${BACKEND_SERVICE_URL}/api"
      }
    },
    {
      "name": "backend",
      "source": {
        "type": "git",
        "rootDir": "."
      },
      "deploy": {
        "type": "docker",
        "dockerfile": "Dockerfile.backend"
      },
      "env": {
        "NODE_ENV": "production",
        "PORT": "8080",
        "CORS_ORIGIN": "${FRONTEND_SERVICE_URL}",
        "MYSQL_HOST": "${MYSQL_HOST}",
        "MYSQL_PORT": "${MYSQL_PORT}",
        "MYSQL_USERNAME": "${MYSQL_USERNAME}",
        "MYSQL_PASSWORD": "${MYSQL_PASSWORD}",
        "MYSQL_DATABASE": "${MYSQL_DATABASE}"
      }
    }
  ]
}
